<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.16">
<title data-rh="true">加入节点提供者 | ICP中文wiki</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/加入节点提供者"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="加入节点提供者 | ICP中文wiki"><meta data-rh="true" name="description" content="作为节点提供者参与互联网计算机网络并获得支持网络的奖励。"><meta data-rh="true" property="og:description" content="作为节点提供者参与互联网计算机网络并获得支持网络的奖励。"><link data-rh="true" rel="icon" href="/icp-wiki/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/加入节点提供者"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/加入节点提供者" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/加入节点提供者" hreflang="x-default"><link rel="stylesheet" href="/icp-wiki/assets/css/styles.4a260e64.css">
<link rel="preload" href="/icp-wiki/assets/js/runtime~main.db2f264c.js" as="script">
<link rel="preload" href="/icp-wiki/assets/js/main.174dc693.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/icp-wiki/"><div class="navbar__logo"><img src="/icp-wiki/img/logo.svg" alt="Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/icp-wiki/img/logo.svg" alt="Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">ICP中文wiki</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/icpleague/icp-wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">🌜</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">🌞</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/icp-wiki/">互联网计算机 wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/icp-wiki/wiki/互联网计算机介绍/1.1词汇表">wiki</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/icp-wiki/wiki/互联网计算机介绍/1.1词汇表">互联网计算机介绍</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/icp-wiki/wiki/互联网身份介绍/2.1什么是互联网身份">互联网身份介绍</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/icp-wiki/wiki/面向Dapp用户的互联网计算机/3.1Dapp用户的互联网计算机介绍">面向Dapp用户的互联网计算机</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/icp-wiki/wiki/ICP代币持有者、质押者和神经元持有者的互联网计算机/4.1ICP代币">ICP代币持有者、质押者和神经元持有者的互联网计算机</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/icp-wiki/wiki/智能合约和Dapp开发人员的互联网计算机/5.1容器（dapps智能合约）">智能合约和Dapp开发人员的互联网计算机</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/6.1互联网计算机的性能">为好奇者、研究人员和区块链爱好者准备的互联网计算机</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/6.1互联网计算机的性能">6.1 互联网计算机的性能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/6.2DFINITY基金会">6.2 DFINITY 基金会</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/IC OS 安装手册 - Supermicro">IC OS 安装手册 - Supermicro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/IC OS 安装操作手册 - Dell Poweredge">IC OS 安装操作手册 - Dell Poweredge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/为什么 NNS 需要对每个节点提供者进行批准？">为什么 NNS 需要对每个节点提供者进行批准？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/什么是节点提供者？">什么是节点提供者？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/加入节点提供者">加入节点提供者</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/我如何开始成为节点提供者？">我如何开始成为节点提供者？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/被接受为节点提供者需要多长时间？">被接受为节点提供者需要多长时间？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/身份与认证">身份与认证</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/icp-wiki/wiki/常见问题解答、教程和操作方法/7.8.1操作方法：向神经元添加热键">常见问题解答、教程和操作方法</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/icp-wiki/wiki/常见问题解答、教程和操作方法/8.1FAQ">常见问题解答、教程和操作方法</a></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">wiki</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">为好奇者、研究人员和区块链爱好者准备的互联网计算机</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/加入节点提供者">加入节点提供者</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>加入节点提供者</h1><p>作为节点提供者参与互联网计算机网络并获得支持网络的奖励。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="要求">要求<a class="hash-link" href="#要求" title="Direct link to heading">​</a></h2><ul><li><a href="https://support.internetcomputer.org/hc/en-us/articles/4402245887764-What-are-the-Hardware-Requirements-to-be-a-Node-Provider-" target="_blank" rel="noopener noreferrer">节点硬件</a></li><li>具有 10GB 连接的机架空间，RJ45 端接在节点上</li><li>公共 /29 IPv4 范围和 /64 IPv6 范围</li><li><a href="https://www.ledger.com/" target="_blank" rel="noopener noreferrer">硬件钱包</a></li><li><a href="https://shop.nitrokey.com/shop/product/nkhs2-nitrokey-hsm-2-7/" target="_blank" rel="noopener noreferrer">NitroKey HSM</a></li><li>11 个 ICP（其中 10 个用于质押 NNS 提案保证金）</li><li>对神经元、质押和治理建议的基本了解。例如，了解将一个神经元质押 8 年意味着什么。</li><li>了解这些说明中未明确提及的一些小步骤的技术知识。例如，何时插入 HSM。</li></ul><p><strong>注意：</strong>请至少分配0.5天的时间来完成第一部分，即新NP的注册。甚至可能需要几天时间，具体取决于社区对提案投票的速度。为了完成这些步骤，还需要吸收相当多的复杂性和技术知识。但这只需要做一次。
下一步，去 DC 并启动和载入机器，这个过程要快得多。估计每台机器花费 10-15 分钟。随着您不断熟练，这个时间应该减少到约 5 分钟。此外，可以并行启动多台机器。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="安装所需工具">安装所需工具<a class="hash-link" href="#安装所需工具" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="安装-ic-admin">安装 ic-admin<a class="hash-link" href="#安装-ic-admin" title="Direct link to heading">​</a></h3><p><code>ic-admin</code>是用于创建和提交 NNS 提案的工具。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="苹果系统">苹果系统<a class="hash-link" href="#苹果系统" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">curl &quot;https://download.dfinity.systems/blessed/ic/40877a86674b24161c2306c6534b872c51533954/nix-release/x86_64-darwin/ic-admin.gz&quot; -o - | gunzip &gt; ./ic-admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x ./ic-admin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>验证二进制</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">diff &lt;(shasum -a 256 ./ic-admin | cut -d&#x27; &#x27; -f1) &lt;(echo 16d955092b697f3abda99f54dafb9e9181a67805d1330a4b8b34b8586a7f1401) &amp;&amp; echo &quot;ic-admin checksum matches&quot; || echo &quot;***ERROR***: ic-admin checksum does not match&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>验证版本是否为 1.0 或更高版本</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">./ic-admin --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ic-admin 1.0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="linux">Linux<a class="hash-link" href="#linux" title="Direct link to heading">​</a></h4><p>注意：以下说明已在 Ubuntu 20.04 版本中进行了测试。</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">curl &quot;https://download.dfinity.systems/blessed/ic/40877a86674b24161c2306c6534b872c51533954/release/ic-admin.gz&quot; -o - | gunzip &gt; ./ic-admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ chmod +x ./ic-admin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>验证二进制</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">diff &lt;(shasum -a 256 ./ic-admin | cut -d&#x27; &#x27; -f1) &lt;(echo 26942a0cd7f89bc0ffbd01287d88b63e333889c67ac9d27e435e57ddd4d211cb) &amp;&amp; echo &quot;ic-admin checksum matches&quot; || echo &quot;***ERROR***: ic-admin checksum does not match&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>验证版本是否为 1.0 或更高版本</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">./ic-admin --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ic-admin 1.0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="安装-dfx">安装 dfx<a class="hash-link" href="#安装-dfx" title="Direct link to heading">​</a></h3><p><code>dfx</code>允许生成神经元hotkey等</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ DFX_VERSION = 0 .9.3 sh -ci &quot; $( curl -fsSL https://sdk.dfinity.org/install.sh ) &quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>验证版本是否为 0.9.3</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ export PATH=$HOME/bin:$PATH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ dfx --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dfx 0.9.3</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>为节点提供者hotkey</strong>创建一个身份</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ dfx identity new node-provider-hotkey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Creating identity: &quot;node-provider-hotkey&quot;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Created identity: &quot;node-provider-hotkey&quot;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ dfx --identity node-provider-hotkey identity get-principal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wuyst-x5tpn-g5wri-mp3ps-vjtba-de3xs-w5xgb-crvek-tucbe-o5rqi-mae</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>注意：</strong>节点提供者hotkey不是节点提供者主体。仅用于 NNS 提案提交。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="通过-nns-前端-dapp-和互联网身份创建和管理神经元">通过 NNS 前端 Dapp 和互联网身份创建和管理神经元<a class="hash-link" href="#通过-nns-前端-dapp-和互联网身份创建和管理神经元" title="Direct link to heading">​</a></h2><ol><li><p>设置您的硬件钱包：<a href="https://medium.com/dfinity/integrating-ledger-nano-with-the-nns-front-end-dapp-user-manual-9c5600925e16" target="_blank" rel="noopener noreferrer">https ://medium.com/dfinity/integrating-ledger-nano-with-the-nns-front-end-dapp-user-manual-9c5600925e16</a></p></li><li><p>向硬件钱包地址发送至少 11 个 ICP。</p></li><li><p>导航到“神经元”选项卡并通过从您的硬件钱包中质押至少 10 个 ICP 创建一个神经元。质押更多的 ICP 也有效，但最少需要 10 个。</p></li><li><p>最重要的一件事！在您的硬件钱包上确认交易。</p><p><img src="https://file.icpl.info/file/2022/05/17/6794542017437500134.png" alt="image-20220517173945571"></p></li><li><p>成功创建神经元后，确认在对话框和硬件钱包中添加 NNS Dapp 作为hotkey，并在操作完成后关闭对话框。</p><p><img src="https://file.icpl.info/file/2022/05/17/1817987158050025869.png" alt="image-20220517174011854"></p></li><li><p>将解散延迟设置为至少 6 个月，并在对话中和您的硬件钱包上确认选择。动作完成后，您可以关闭“Follow Neurons”。</p><p><img src="https://file.icpl.info/file/2022/05/17/2228072962464504551.png" alt="image-20220517174023767"></p></li><li><p>您现在将看到一个带有 ID 的神经元。复制神经元 ID，因为在接下来的步骤中您将需要它来放置必要的建议。</p><p><img src="https://file.icpl.info/file/2022/05/17/6639819963931289669.png" alt="image-20220517174032781"></p></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="添加hotkey">添加hotkey<a class="hash-link" href="#添加hotkey" title="Direct link to heading">​</a></h2><ol><li><p>选择您刚刚创建的神经元以打开神经元管理视图，然后按“add hotkey”按钮。</p><p><img src="https://file.icpl.info/file/2022/05/17/2678444977191803008.png" alt="image-20220517174042570"></p></li><li><p>将弹出一个对话框，您可以在其中输入您在步骤 2 中生成的主体（输出命令</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">dfx --identity node-provider-hotkey identity get-principal</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>）。这将允许您使用提交 NNS 提案，</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ic-admin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>并且不会用于其他任何事情。</p><p><img src="https://file.icpl.info/file/2022/05/17/3634153944035171119.png" alt="image-20220517174102829"></p></li><li><p>获取 Ledger Hardware Wallet 主体 ID</p></li></ol><p>导航回 ICP 页面并选择您的 Ledger 硬件钱包帐户。 <a href="https://wiki.internetcomputer.org/wiki/File:Node_provider_principal_1.png" target="_blank" rel="noopener noreferrer"><img src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/internetcomputer/thumb/Node_provider_principal_1.png/1024px-Node_provider_principal_1.png" alt="节点提供者主体 1.png"></a></p><p><a href="https://wiki.internetcomputer.org/wiki/File:Node_provider_principal_2.png" target="_blank" rel="noopener noreferrer"><img src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/internetcomputer/thumb/Node_provider_principal_2.png/800px-Node_provider_principal_2.png" alt="节点提供者主体 2.png"></a></p><p><strong>注意：</strong>您需要将此 Ledger Hardware Wallet 主体用作节点提供者主体，以便将奖励直接存入安全硬件钱包。通过单击主体 ID 后的复制图标来复制并保存此节点提供者主体。在接下来的步骤中您将需要它。</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">NODE_PROVIDER_PRINCIPAL=fharn-5vyi2-4xb4a-64yyi-3jpmj-pga23-mxy25-d5uim-fqcro-eoefh-tae   # Ledger Hardware Wallet principal, from the NNS FE dapp https://nns.ic0.app/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="配置您的-hsm">配置您的 HSM<a class="hash-link" href="#配置您的-hsm" title="Direct link to heading">​</a></h2><p>首先需要安装必要的工具。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="苹果系统-1">苹果系统<a class="hash-link" href="#苹果系统-1" title="Direct link to heading">​</a></h3><ol><li><p>下载此 OpenSC 二进制文件：<a href="https://github.com/OpenSC/OpenSC/releases/download/0.22.0/OpenSC-0.22.0.dmg" target="_blank" rel="noopener noreferrer">https ://github.com/OpenSC/OpenSC/releases/download/0.22.0/OpenSC-0.22.0.dmg</a></p></li><li><p>双击您下载的 DMG 映像，然后双击 OpenSC PKG 文件。</p></li><li><p>如果您的系统不允许来自身份不明的开发者的安装软件，请按照以下步骤操作或联系您的系统管理员：</p><p>选择 Apple 菜单 &gt; 系统偏好设置 &gt; 单击安全和隐私。</p><p>单击锁定图标将其解锁，然后输入管理员名称和密码。</p><p>确保您位于名为“常规”的选项卡上。</p><p>您应该会看到 OpenSC 应用程序，并且您应该能够通过选择“仍然打开”来启用它的安装。</p></li><li><p>单击继续并安装，直到安装完成。</p></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="linux-1">Linux<a class="hash-link" href="#linux-1" title="Direct link to heading">​</a></h3><p>注意：以下说明已在 Ubuntu 20.04 版本中进行了测试。</p><ol><li><p>安装 pcscd 和 opensc</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">sudo add-apt-repository universe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install pcscd opensc</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="设置-hsm">设置 HSM<a class="hash-link" href="#设置-hsm" title="Direct link to heading">​</a></h2><p>初始化 HSM。</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">sc-hsm-tool --initialize --so-pin 3537363231383830 --pin 358138</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>更改 HSM so pin。
<strong>警告：</strong>新的 HSM so pin 必须有 16 个十六进制数字。这不是很为人所知，一些 HSM 用户失去了对 Nitrokey HSM 的访问权限，因为他们尝试使用常规字符并且下面的命令接受了它。</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">pkcs11-tool --login --login-type so --so-pin 3537363231383830 --change-pin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>在 HSM 上创建密钥对。出现提示时输入默认引脚 358138。
<strong>注意：</strong>在初始化 HSM 密钥之前，如果您希望创建备份，请参阅<a href="https://docs.nitrokey.com/pro/openpgp.html" target="_blank" rel="noopener noreferrer">Nitrokey HSM 文档。</a>创建密钥后，无法创建 HSM 设备的备份。</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">pkcs11-tool -k --key-type EC:prime256v1 --login -d 01</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="从-hsm-获取节点操作员主体">从 HSM 获取节点操作员主体<a class="hash-link" href="#从-hsm-获取节点操作员主体" title="Direct link to heading">​</a></h3><p>配置 dfx 身份（如果您已经为其他 HSM 配置了它，请跳过此步骤）。</p><p><strong>注意：</strong>根据您的安装，<code>--hsm-pkcs11-lib-path</code>在您的平台上的路径可能会有所不同。您可以使用以下命令找到正确的路径：</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">find / -name opensc-pkcs11.so 2&gt; /dev/null</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>苹果系统：</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">dfx identity new node-operator-hsm --hsm-key-id 01 --hsm-pkcs11-lib-path /Library/OpenSC/lib/opensc-pkcs11.so</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Linux：</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">dfx identity new node-operator-hsm --hsm-key-id 01 --hsm-pkcs11-lib-path /usr/lib/x86_64-linux-gnu/opensc-pkcs11.so</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>获取principal</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ NODE_OPERATOR_PRINCIPAL=$(DFX_HSM_PIN=358138 dfx --identity node-operator-hsm identity get-principal)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ echo $NODE_OPERATOR_PRINCIPAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uqquy-76uhn-2mys5-xa3j3-oynfv-rrorc-pygn7-dldbd-4dr6n-lbhz7-zqe</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="将您的-np-主体注册到网络">将您的 NP 主体注册到网络<a class="hash-link" href="#将您的-np-主体注册到网络" title="Direct link to heading">​</a></h2><p>将值替换为来自 NNS 前端 DAPP<code>NEURON_ID</code>的神经元 ID</p><p>将值替换为<code>NODE_PROVIDER_PRINCIPAL</code>您从 NNS 前端 DAPP 获得的 Ledger Hardware Wallet 主体。
将<code>NODE_PROVIDER_NAME</code>值替换为将提供节点的实体的名称。
<strong><em>重要提示：</em></strong>请确保更新<code>--summary</code>并包含指向论坛讨论、贵公司网页和/或其他可以使投票社区相信您提出合法请求的地方的链接。这样，您将避免社区对您的提案投反对票，而您会失去质押的 ICP。</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">NODE_PROVIDER_NAME=&quot;My Company&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODE_PROVIDER_PRINCIPAL=fharn-5vyi2-4xb4a-64yyi-3jpmj-pga23-mxy25-d5uim-fqcro-eoefh-tae   # Ledger Hardware Wallet principal, from the NNS FE dapp https://nns.ic0.app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NEURON_ID=13419667327548602649  # Coming from the NNS FE dapp https://nns.ic0.app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./ic-admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --nns-url https://nns.ic0.app \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -s ~/.config/dfx/identity/node-provider-hotkey/identity.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    propose-to-add-or-remove-node-provider add \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --proposer $NEURON_ID \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --proposal-title &quot;Register a node provider &#x27;${NODE_PROVIDER_NAME}&#x27;&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --summary &quot;Register a node provider &#x27;${NODE_PROVIDER_NAME}&#x27;, in line with the announcement and discussion at https://forum.dfinity.org/t/...&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --node-provider-pid &quot;$NODE_PROVIDER_PRINCIPAL&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>在<a href="https://dashboard.internetcomputer.org/governance" target="_blank" rel="noopener noreferrer">https://dashboard.internetcomputer.org/governance</a>上找到该提案并等待它执行，然后再继续下一步。</p><p>确保您的数据中心已在网络中注册</p><p>在<a href="https://dashboard.internetcomputer.org/centers" target="_blank" rel="noopener noreferrer">https://dashboard.internetcomputer.org/centers</a>上搜索您的数据中心。如果您找到了托管节点的数据中心，请记住其 ID，并跳过以下部分。否则，继续注册新的 DC。<a href="https://wiki.internetcomputer.org/wiki/File:Dc_id.png" target="_blank" rel="noopener noreferrer"><img src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/internetcomputer/thumb/Dc_id.png/1024px-Dc_id.png" alt="直流标识.png"></a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="创建数据中心记录">创建数据中心记录<a class="hash-link" href="#创建数据中心记录" title="Direct link to heading">​</a></h3><p>将<code>--proposer</code>参数值替换为来自 NNS 前端 Dapp 的神经元 ID。将<code>–data-centers-to-add</code>参数中的 JSON 字段及其对应的值替换为<code>--summary</code>：<code>&quot;id&quot;</code></p><p>ID 应该是代表数据中心所在城市的两个字母和一个递增数字的组合。在<a href="https://dashboard.internetcomputer.org/" target="_blank" rel="noopener noreferrer">https://dashboard.internetcomputer.org</a>上搜索数据中心 ID ，找到两个字母和一个尚未注册的数字的组合。 <a href="https://wiki.internetcomputer.org/wiki/File:Dc_id.png" target="_blank" rel="noopener noreferrer"><img src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/internetcomputer/thumb/Dc_id.png/1024px-Dc_id.png" alt="直流标识.png"></a></p><p>例子：</p><ul><li>dl1（Dallas，没有带有“dl”前缀的 ID）</li><li>zh10（Zurich，数字 0-9 已注册）</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;region&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Region 表示数据中心的本地区域，并被表述为由逗号分隔的三部分字符串。构成字符串的三个部分是大陆、国家代码和地区，按给定顺序排列。<a href="https://wiki.internetcomputer.org/wiki/File:Datacenter_region.png" target="_blank" rel="noopener noreferrer"><img src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/internetcomputer/thumb/Datacenter_region.png/1024px-Datacenter_region.png" alt="数据中心区域.png"></a></p><p>例子：</p><ul><li>北美，美国，佛罗里达</li><li>欧洲，德国，巴伐利亚</li><li>亚洲,新加坡,新加坡</li></ul><p><code>&quot;owner&quot;</code>提供数据中心设施的实体。在<a href="https://dashboard.internetcomputer.org/" target="_blank" rel="noopener noreferrer">https://dashboard.internetcomputer.org</a>中搜索现有数据中心提供商。如果匹配，请确保为数据中心使用相同的名称。否则，请尽您所知命名数据中心所有者。<a href="https://wiki.internetcomputer.org/wiki/File:Datacenter_owner.png" target="_blank" rel="noopener noreferrer"><img src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/internetcomputer/thumb/Datacenter_owner.png/1024px-Datacenter_owner.png" alt="数据中心所有者.png"></a></p><p><code>&quot;gps&quot;</code><a href="https://www.google.com/maps/" target="_blank" rel="noopener noreferrer">在https://www.google.com/maps/</a> 上找到您的数据中心。右键单击位置，然后选择 GPS 坐标（菜单中的第一项）以复制它们。</p><p><a href="https://wiki.internetcomputer.org/wiki/File:Maps.png" target="_blank" rel="noopener noreferrer"><img src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/internetcomputer/thumb/Maps.png/480px-Maps.png" alt="获取 GPS 坐标"></a></p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">NEURON_ID=13419667327548602649  # Coming from the NNS FE dapp https://nns.ic0.app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ ./ic-admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --nns-url https://nns.ic0.app \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -s ~/.config/dfx/identity/node-provider-hotkey/identity.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    propose-to-add-or-remove-data-centers \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --summary &quot;Register a Flexential datacenter as dl1 in North America,US,Texas&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --skip-confirmation \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --proposer $NEURON_ID \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --data-centers-to-add &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;id&quot;: &quot;dl1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;region&quot;: &quot;North America,US,Texas&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;owner&quot;: &quot;Flexential&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;gps&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                33.00803, -96.66614</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>在<a href="https://dashboard.internetcomputer.org/governance" target="_blank" rel="noopener noreferrer">https://dashboard.internetcomputer.org/governance</a>上找到提案并等待它执行，然后再继续下一步。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="创建节点操作员记录">创建节点操作员记录<a class="hash-link" href="#创建节点操作员记录" title="Direct link to heading">​</a></h2><p>将<code>NEURON_ID</code>变量值替换为从 NNS 前端 dapp 获得的神经元 ID。
将<code>NODE_PROVIDER_PRINCIPAL</code>变量值替换为从 NNS 前端 dapp 获得的 Ledger Hardware Wallet 主体。
将<code>DC_ID</code>变量值替换为数据中心的 id。用您提供的节点数替换变量值。<code>NODE_ALLOWANCE</code></p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">NEURON_ID=13419667327548602649  # Coming from the NNS FE dapp https://nns.ic0.app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODE_PROVIDER_PRINCIPAL=fharn-5vyi2-4xb4a-64yyi-3jpmj-pga23-mxy25-d5uim-fqcro-eoefh-tae   # Ledger Hardware Wallet principal, from the NNS FE dapp https://nns.ic0.app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODE_OPERATOR_PRINCIPAL=$(DFX_HSM_PIN=358138 dfx --identity node-operator-hsm identity get-principal)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODE_PROVIDER_NAME=&quot;My Company&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODE_ALLOWANCE=28</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DC_ID=dl1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./ic-admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --nns-url https://nns.ic0.app \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -s ~/.config/dfx/identity/node-provider-hotkey/identity.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    propose-to-add-node-operator \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $NODE_PROVIDER_PRINCIPAL \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --summary &quot;Node provider &#x27;$NODE_PROVIDER_NAME&#x27; is adding $NODE_ALLOWANCE nodes in the $DC_ID data center&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --proposer $NEURON_ID \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --node-operator-principal-id $NODE_OPERATOR_PRINCIPAL \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --node-allowance $NODE_ALLOWANCE \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --dc-id $DC_ID</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>在<a href="https://dashboard.internetcomputer.org/governance" target="_blank" rel="noopener noreferrer">https://dashboard.internetcomputer.org/governance</a>上找到提案并等待它执行，然后再继续下一步。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="配置防火墙规则">配置防火墙规则<a class="hash-link" href="#配置防火墙规则" title="Direct link to heading">​</a></h2><p><strong>注意：</strong>只有在向 Internet 计算机添加具有新 IPv6 前缀的新 DC 时，才需要更新防火墙规则。</p><p>将<code>NEURON_ID</code>变量值替换为从 NNS 前端 dapp 获得的神经元 ID。
将<code>NODES_IPV6_PREFIX</code>变量值替换为节点网络的 IPv6 前缀。</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">NEURON_ID=13419667327548602649  # Coming from the NNS FE dapp https://nns.ic0.app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODES_IPV6_PREFIX=2001:4d78:700:10a::/64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODE_OPERATOR_PRINCIPAL=$(DFX_HSM_PIN=358138 dfx --identity node-operator-hsm identity get-principal)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NFTABLES=$(./ic-admin --nns-url &quot;https://nns.ic0.app&quot; get-firewall-config | grep &quot;firewall_config&quot; | cut -d&#x27;:&#x27; -f2 | cut -c2- | rev | cut -c2- | rev | xargs printf)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IPV6_PREFIXES=$(./ic-admin --nns-url &quot;https://nns.ic0.app&quot; get-firewall-config | tr -d &#x27;\n&#x27; | grep -oE &#x27;ipv6_prefixes: \[[^]]+&#x27; | cut -d&#x27;[&#x27; -f2 | tr -d &#x27;&quot;&#x27; | tr -d &#x27; &#x27; | tr -d &#x27;\n&#x27;; echo $NODES_IPV6_PREFIX)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./ic-admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --nns-url https://nns.ic0.app \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -s ~/.config/dfx/identity/node-provider-hotkey/identity.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    propose-to-set-firewall-config \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --proposer $NEURON_ID \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --summary &quot;Set the firewall rules for node operator ${NODE_OPERATOR_PRINCIPAL}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;(echo $NFTABLES) \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $IPV6_PREFIXES</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>在<a href="https://dashboard.internetcomputer.org/governance" target="_blank" rel="noopener noreferrer">https://dashboard.internetcomputer.org/governance</a>上找到提案并等待它执行，然后再继续下一步。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="加载节点">加载节点<a class="hash-link" href="#加载节点" title="Direct link to heading">​</a></h2><p>按照说明加入新节点。</p><ul><li><a href="https://wiki.internetcomputer.org/wiki/IC_OS_Installation_Runbook_-_PowerEdge_R6525" target="_blank" rel="noopener noreferrer">对于戴尔服务器</a></li><li><a href="https://wiki.internetcomputer.org/wiki/IC_OS_Installation_Runbook_-_Supermicro" target="_blank" rel="noopener noreferrer">对于 Supermicro 服务器</a></li></ul><p>通过检查仪表板上的状态设置为“Up”或“Unassigned”，或检查<code>ic-admin get-topology</code>命令的输出，验证所有节点是否已成功加入。</p><p>您的提供者主体可以搜索内部仪表板。</p><p><a href="https://wiki.internetcomputer.org/wiki/File:Onboarded_nodes.png" target="_blank" rel="noopener noreferrer"><img src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/internetcomputer/thumb/Onboarded_nodes.png/1024px-Onboarded_nodes.png" alt="板载节点"></a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="为您的节点设置奖励配置">为您的节点设置奖励配置<a class="hash-link" href="#为您的节点设置奖励配置" title="Direct link to heading">​</a></h2><p>将<code>NEURON_ID</code>变量值替换为从 NNS 前端 dapp 获得的神经元 ID。用您的节点主体
替换占位符。 将占位符替换为您列出的节点数。 <code>&lt;NODE_X_PRINCIPAL&gt;</code>
<code>&lt;number-of-nodes&gt;</code></p><p>注意：当前每个节点算子的最大节点数为 28。</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">NEURON_ID=13419667327548602649  # Coming from the NNS FE dapp https://nns.ic0.app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NODE_OPERATOR_PRINCIPAL=$(DFX_HSM_PIN=358138 dfx --identity node-operator-hsm identity get-principal)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./ic-admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --nns-url https://nns.ic0.app \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -s ~/.config/dfx/identity/node-provider-hotkey/identity.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    propose-to-update-node-operator-config \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --proposer $NEURON_ID \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --summary &quot;Set rewards for the following nodes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * &lt;NODE_1_PRINCIPAL&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * &lt;NODE_2_PRINCIPAL&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        * ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --node-operator-id $NODE_OPERATOR_PRINCIPAL \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        --rewardable-nodes &#x27;{&quot;type0&quot;: &lt;number-of-nodes&gt;}&#x27;   </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/什么是节点提供者？"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">什么是节点提供者？</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/icp-wiki/wiki/为好奇者、研究人员和区块链爱好者准备的互联网计算机/我如何开始成为节点提供者？"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">我如何开始成为节点提供者？</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#要求" class="table-of-contents__link toc-highlight">要求</a></li><li><a href="#安装所需工具" class="table-of-contents__link toc-highlight">安装所需工具</a><ul><li><a href="#安装-ic-admin" class="table-of-contents__link toc-highlight">安装 ic-admin</a></li><li><a href="#安装-dfx" class="table-of-contents__link toc-highlight">安装 dfx</a></li></ul></li><li><a href="#通过-nns-前端-dapp-和互联网身份创建和管理神经元" class="table-of-contents__link toc-highlight">通过 NNS 前端 Dapp 和互联网身份创建和管理神经元</a></li><li><a href="#添加hotkey" class="table-of-contents__link toc-highlight">添加hotkey</a></li><li><a href="#配置您的-hsm" class="table-of-contents__link toc-highlight">配置您的 HSM</a><ul><li><a href="#苹果系统-1" class="table-of-contents__link toc-highlight">苹果系统</a></li><li><a href="#linux-1" class="table-of-contents__link toc-highlight">Linux</a></li></ul></li><li><a href="#设置-hsm" class="table-of-contents__link toc-highlight">设置 HSM</a><ul><li><a href="#从-hsm-获取节点操作员主体" class="table-of-contents__link toc-highlight">从 HSM 获取节点操作员主体</a></li></ul></li><li><a href="#将您的-np-主体注册到网络" class="table-of-contents__link toc-highlight">将您的 NP 主体注册到网络</a><ul><li><a href="#创建数据中心记录" class="table-of-contents__link toc-highlight">创建数据中心记录</a></li></ul></li><li><a href="#创建节点操作员记录" class="table-of-contents__link toc-highlight">创建节点操作员记录</a></li><li><a href="#配置防火墙规则" class="table-of-contents__link toc-highlight">配置防火墙规则</a></li><li><a href="#加载节点" class="table-of-contents__link toc-highlight">加载节点</a></li><li><a href="#为您的节点设置奖励配置" class="table-of-contents__link toc-highlight">为您的节点设置奖励配置</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/icp-wiki/assets/js/runtime~main.db2f264c.js"></script>
<script src="/icp-wiki/assets/js/main.174dc693.js"></script>
</body>
</html>